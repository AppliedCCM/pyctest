package:
  name: pyctest
  version: '0.0.9'

build:
  number: 1
  binary_relocation: False
  script: "{{ PYTHON }} setup.py install"  # [not win]
  script_env:
    - TMPDIR
    - CC
    - CXX
    - CPATH
    - LD_LIBRARY_PATH
    - DYLD_LIBRARY_PATH
    - PYCTEST_BUILD_TYPE
    - CMAKE_PREFIX_PATH
    - PYCTEST_CMAKE_PREFIX_PATH
    - PYCTEST_CMAKE_INCLUDE_PATH
    - PYCTEST_CMAKE_LIBRARY_PATH

source:
  git_rev: 63f7a92d21304dacd38627afe7c5ae1c1120673c
  git_url: https://github.com/jrmadsen/pyctest.git

requirements:
  build:
    - cmake
    - git
    - {{ compiler('c') }}
    - {{ compiler('cxx') }}
  host:
    - python={{ python }}
    - pip
    - setuptools
    - openssl
    - curl
  run:
    - python={{ python }}
    - openssl
    - curl

test:
  imports:
    - pyctest
    - pyctest.pyctest
    - pyctest.pycmake
    - pyctest.helpers

about:
  home: https://jrmadsen.github.io/pyctest/
  license: MIT
  summary: "Python bindings to select portions of CMake/CTest package -- enabling generation of CTests for CDash submission without a CMake build system"
