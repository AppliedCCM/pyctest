package:
  name: pyctest
  version: '0.0.9'

build:
  number: 0
  binary_relocation: False
  script_env:
  - TMPDIR
  - CC
  - CXX
  - CPATH
  - LD_LIBRARY_PATH
  - DYLD_LIBRARY_PATH
  - PYCTEST_BUILD_TYPE
  - CMAKE_PREFIX_PATH
  - PYCTEST_CMAKE_PREFIX_PATH
  - PYCTEST_CMAKE_INCLUDE_PATH
  - PYCTEST_CMAKE_LIBRARY_PATH
  script:
    - "{{ PYTHON }} setup.py install"

source:
  git_rev: 10c9c02ea847a21c8be748a3a1bdf4ea8ffac1a0
  git_url: https://github.com/jrmadsen/pyctest.git

requirements:
  host:
  - python
  - setuptools
  - cmake
  - openssl
  - {{ compiler('c') }} # [not win]
  - {{ compiler('cxx') }} # [not win]
  run:
  - python
  - openssl
  - libcxx

test:
  imports:
  - pyctest
  - pyctest.pyctest
  - pyctest.pycmake
  - pyctest.helpers
  commands:
  - cd examples/Basic && ./basic.py

about:
  home: https://jrmadsen.github.io/pyctest/
  license: MIT
  summary: "Python bindings to select portions of CMake/CTest package -- enabling generation of CTests for CDash submission without a CMake build system"
